<!DOCTYPE html>
<!-- saved from url=(0092)https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="generator" content="pandoc">
      
      
      <title>1. Úloha IOS (2024)</title>
      <!-- Bootstrap -->
      <link rel="stylesheet" href="./zadani-2024_files/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
      <!-- Font-awesome -->
      <link rel="stylesheet" href="./zadani-2024_files/font-awesome.min.css">
      <!-- Styles -->
      <link rel="stylesheet" href="./zadani-2024_files/styles.css">
            <!-- Add favicon here -->
            <!-- Add site-verifications here -->
         <style type="text/css">.CtxtMenu_InfoClose {  top:.2em; right:.2em;}
.CtxtMenu_InfoContent {  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}
.CtxtMenu_Info.CtxtMenu_MousePost {outline:none;}
.CtxtMenu_Info {  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}
</style><style type="text/css">.CtxtMenu_MenuClose {  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}
.CtxtMenu_MenuClose span {  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}
.CtxtMenu_MenuClose:hover {  color:white!important;  border:2px solid #CCC!important}
.CtxtMenu_MenuClose:hover span {  background-color:#CCC!important}
.CtxtMenu_MenuClose:hover:focus {  outline:none}
</style><style type="text/css">.CtxtMenu_Menu {  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}
.CtxtMenu_MenuItem {  padding: 1px 2em;  background:transparent;}
.CtxtMenu_MenuArrow {  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}
.CtxtMenu_MenuActive .CtxtMenu_MenuArrow {color:white}
.CtxtMenu_MenuArrow.CtxtMenu_RTL {left:.5em; right:auto}
.CtxtMenu_MenuCheck {  position:absolute; left:.7em;  font-family: null}
.CtxtMenu_MenuCheck.CtxtMenu_RTL { right:.7em; left:auto }
.CtxtMenu_MenuRadioCheck {  position:absolute; left: .7em;}
.CtxtMenu_MenuRadioCheck.CtxtMenu_RTL {  right: .7em; left:auto}
.CtxtMenu_MenuInputBox {  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}
.CtxtMenu_MenuInputBox.CtxtMenu_RTL {  left: .1em;}
.CtxtMenu_MenuComboBox {  left:.1em; padding-bottom:.5em;}
.CtxtMenu_MenuSlider {  left: .1em;}
.CtxtMenu_SliderValue {  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}
.CtxtMenu_SliderBar {  outline: none; background: #d3d3d3}
.CtxtMenu_MenuLabel {  padding: 1px 2em 3px 1.33em;  font-style:italic}
.CtxtMenu_MenuRule {  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}
.CtxtMenu_MenuDisabled {  color:GrayText}
.CtxtMenu_MenuActive {  background-color: #606872;  color: white;}
.CtxtMenu_MenuDisabled:focus {  background-color: #E8E8E8}
.CtxtMenu_MenuLabel:focus {  background-color: #E8E8E8}
.CtxtMenu_ContextMenu:focus {  outline:none}
.CtxtMenu_ContextMenu .CtxtMenu_MenuItem:focus {  outline:none}
.CtxtMenu_SelectionMenu {  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }
.CtxtMenu_SelectionItem {  padding-right: 1em;}
.CtxtMenu_Selection {  right: 40%; width:50%; }
.CtxtMenu_SelectionBox {  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}
.CtxtMenu_SelectionDivider {  clear: both; border-top: 2px solid #000000;}
.CtxtMenu_Menu .CtxtMenu_MenuClose {  top:-10px; left:-10px}
</style><style id="MJX-CHTML-styles">
mjx-container[jax="CHTML"] {
  line-height: 0;
}

mjx-container [space="1"] {
  margin-left: .111em;
}

mjx-container [space="2"] {
  margin-left: .167em;
}

mjx-container [space="3"] {
  margin-left: .222em;
}

mjx-container [space="4"] {
  margin-left: .278em;
}

mjx-container [space="5"] {
  margin-left: .333em;
}

mjx-container [rspace="1"] {
  margin-right: .111em;
}

mjx-container [rspace="2"] {
  margin-right: .167em;
}

mjx-container [rspace="3"] {
  margin-right: .222em;
}

mjx-container [rspace="4"] {
  margin-right: .278em;
}

mjx-container [rspace="5"] {
  margin-right: .333em;
}

mjx-container [size="s"] {
  font-size: 70.7%;
}

mjx-container [size="ss"] {
  font-size: 50%;
}

mjx-container [size="Tn"] {
  font-size: 60%;
}

mjx-container [size="sm"] {
  font-size: 85%;
}

mjx-container [size="lg"] {
  font-size: 120%;
}

mjx-container [size="Lg"] {
  font-size: 144%;
}

mjx-container [size="LG"] {
  font-size: 173%;
}

mjx-container [size="hg"] {
  font-size: 207%;
}

mjx-container [size="HG"] {
  font-size: 249%;
}

mjx-container [width="full"] {
  width: 100%;
}

mjx-box {
  display: inline-block;
}

mjx-block {
  display: block;
}

mjx-itable {
  display: inline-table;
}

mjx-row {
  display: table-row;
}

mjx-row > * {
  display: table-cell;
}

mjx-mtext {
  display: inline-block;
}

mjx-mstyle {
  display: inline-block;
}

mjx-merror {
  display: inline-block;
  color: red;
  background-color: yellow;
}

mjx-mphantom {
  visibility: hidden;
}

_::-webkit-full-page-media, _:future, :root mjx-container {
  will-change: opacity;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-c::before {
  display: block;
  width: 0;
}

.MJX-TEX {
  font-family: MJXZERO, MJXTEX;
}

.TEX-B {
  font-family: MJXZERO, MJXTEX-B;
}

.TEX-I {
  font-family: MJXZERO, MJXTEX-I;
}

.TEX-MI {
  font-family: MJXZERO, MJXTEX-MI;
}

.TEX-BI {
  font-family: MJXZERO, MJXTEX-BI;
}

.TEX-S1 {
  font-family: MJXZERO, MJXTEX-S1;
}

.TEX-S2 {
  font-family: MJXZERO, MJXTEX-S2;
}

.TEX-S3 {
  font-family: MJXZERO, MJXTEX-S3;
}

.TEX-S4 {
  font-family: MJXZERO, MJXTEX-S4;
}

.TEX-A {
  font-family: MJXZERO, MJXTEX-A;
}

.TEX-C {
  font-family: MJXZERO, MJXTEX-C;
}

.TEX-CB {
  font-family: MJXZERO, MJXTEX-CB;
}

.TEX-FR {
  font-family: MJXZERO, MJXTEX-FR;
}

.TEX-FRB {
  font-family: MJXZERO, MJXTEX-FRB;
}

.TEX-SS {
  font-family: MJXZERO, MJXTEX-SS;
}

.TEX-SSB {
  font-family: MJXZERO, MJXTEX-SSB;
}

.TEX-SSI {
  font-family: MJXZERO, MJXTEX-SSI;
}

.TEX-SC {
  font-family: MJXZERO, MJXTEX-SC;
}

.TEX-T {
  font-family: MJXZERO, MJXTEX-T;
}

.TEX-V {
  font-family: MJXZERO, MJXTEX-V;
}

.TEX-VB {
  font-family: MJXZERO, MJXTEX-VB;
}

mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c {
  font-family: MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important;
}

@font-face /* 0 */ {
  font-family: MJXZERO;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff") format("woff");
}

@font-face /* 1 */ {
  font-family: MJXTEX;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff") format("woff");
}

@font-face /* 2 */ {
  font-family: MJXTEX-B;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Bold.woff") format("woff");
}

@font-face /* 3 */ {
  font-family: MJXTEX-I;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff") format("woff");
}

@font-face /* 4 */ {
  font-family: MJXTEX-MI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Italic.woff") format("woff");
}

@font-face /* 5 */ {
  font-family: MJXTEX-BI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-BoldItalic.woff") format("woff");
}

@font-face /* 6 */ {
  font-family: MJXTEX-S1;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff") format("woff");
}

@font-face /* 7 */ {
  font-family: MJXTEX-S2;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size2-Regular.woff") format("woff");
}

@font-face /* 8 */ {
  font-family: MJXTEX-S3;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size3-Regular.woff") format("woff");
}

@font-face /* 9 */ {
  font-family: MJXTEX-S4;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size4-Regular.woff") format("woff");
}

@font-face /* 10 */ {
  font-family: MJXTEX-A;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_AMS-Regular.woff") format("woff");
}

@font-face /* 11 */ {
  font-family: MJXTEX-C;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Regular.woff") format("woff");
}

@font-face /* 12 */ {
  font-family: MJXTEX-CB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Bold.woff") format("woff");
}

@font-face /* 13 */ {
  font-family: MJXTEX-FR;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Regular.woff") format("woff");
}

@font-face /* 14 */ {
  font-family: MJXTEX-FRB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Bold.woff") format("woff");
}

@font-face /* 15 */ {
  font-family: MJXTEX-SS;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Regular.woff") format("woff");
}

@font-face /* 16 */ {
  font-family: MJXTEX-SSB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Bold.woff") format("woff");
}

@font-face /* 17 */ {
  font-family: MJXTEX-SSI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Italic.woff") format("woff");
}

@font-face /* 18 */ {
  font-family: MJXTEX-SC;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Script-Regular.woff") format("woff");
}

@font-face /* 19 */ {
  font-family: MJXTEX-T;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Typewriter-Regular.woff") format("woff");
}

@font-face /* 20 */ {
  font-family: MJXTEX-V;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Regular.woff") format("woff");
}

@font-face /* 21 */ {
  font-family: MJXTEX-VB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Bold.woff") format("woff");
}
</style></head>
   <body>
            <div class="container">
         <h1 class="title">1. Úloha IOS (2024)</h1>
                  <div class="row">
            <div class="col-xl-10"><h1 id="popis-úlohy">Popis úlohy</h1>
<p>Jako správní technologičtí vizionáři se i Vaše firma rozhodla
vytvořit svou vlastní kryptoměnovou burzu, nazvanou XTF (eXtortion,
Travesty, Fraud). Burza svým klientům umožňuje vkládat finanční
prostředky ve formě kryptoměn i fiat měn; provádět směnu svých
prostředků za měny jiné; úschovu prostředků a půjčování prostředků (tzv.
<em>margin</em>).</p>
<p>Aby měli uživatelé přehled o svých účtech (a prostředcích na nich),
musí Vaše burza vést záznamy o provedených transakcích všech uživatelů.
Vaše účetnictví je však velmi nepřehledné a chaotické (tak, jak by to
mělo být u každého správného startupu), a všechny záznamy jsou tak mezi
sebou promíchané a uložené v jednom nebo více textových, příp.
komprimovaných, souborech. Přes grafické rozhraní byste však měli
každému uživateli zobrazovat pouze záznamy z jeho obchodního účtu. V
rámci předzpracování dat pro výstup tak bude zapotřebí záznamy uživatelů
filtrovat a třídit.</p>
<p>Pokud však chcete skutečně uspět na poli kryptoměnových
<em>fintech</em> společností, musíte růst rychleji a více než Vaše
konkurence. Abyste nalákali co nejvíce nových uživatelů na Vaši burzu,
slíbili jste jim pohádkové zhodnocení jejich uložených prostředků pomocí
Vaší sesterské investiční společnosti. Protože finanční regulace jsou
pro zpátečníky a ne pro vizinonáře Vašeho střihu, nic Vám nebrání
uživatelům vykazovat fiktivní zisk z investic.</p>
<p>Přestože jinak zásadně dbáte na využívání těch nejnovějších a
nejmodernějších technologií (správné <em>buzzwords</em> Vám zajistí
příliv dalšího kapitálu od investorů), v tomto konkrétním případě
skutečně dává větší smysl vyřešit problém pomocí shell skriptu a nikoliv
natrénované neuronové sítě.</p>
<h1 id="specifikace-rozhraní-skriptu">Specifikace rozhraní skriptu</h1>
<p><strong>JMÉNO</strong></p>
<ul>
<li><code>xtf</code> - skript pro předzpracování logů z Vaší
kryptoměnové burzy.</li>
</ul>
<p><strong>POUŽITÍ</strong></p>
<ul>
<li><code>xtf [-h|--help] [FILTR] [PŘÍKAZ] UŽIVATEL LOG [LOG2 [...]</code></li>
</ul>
<p><strong>VOLBY</strong></p>
<ul>
<li><code>PŘÍKAZ</code> může být jeden z:
<ul>
<li><code>list</code> – výpis záznamů pro daného uživatele.</li>
<li><code>list-currency</code> – výpis seřazeného <em>seznamu</em>
vyskytujících se měn.</li>
<li><code>status</code> – výpis skutečného <em>stavu účtu</em>
seskupeného a seřazeného dle jednotlivých měn.</li>
<li><code>profit</code> – výpis <em>stavu účtu</em> zákazníka se
započítaným fiktivním výnosem.</li>
</ul></li>
<li><code>FILTR</code> může být kombinace následujících:
<ul>
<li><code>-a DATETIME</code> – after: jsou uvažovány pouze záznamy PO
tomto datu a čase (bez něj). <code>DATETIME</code> je formátu
<code>YYYY-MM-DD HH:MM:SS</code>.</li>
<li><code>-b DATETIME</code> – before: jsou uvažovány pouze záznamy PŘED
tímto datem a časem (bez něj).</li>
<li><code>-c CURRENCY</code> – jsou uvažovány pouze záznamy odpovídající
dané měně.</li>
</ul></li>
<li><code>-h</code> a <code>--help</code> vypíšou nápovědu s krátkým
popisem každého příkazu a přepínače.</li>
</ul>
<p><strong>POPIS</strong></p>
<ol type="1">
<li><p>Skript filtruje, seskupuje a vypisuje záznamy z logů kryptoměnové
burzy. Pokud je skriptu zadán příkaz, nad filtrovanými záznamy daný
příkaz provede.</p></li>
<li><p>Pokud má skript vypsat <em>seznam</em> nebo <em>stav účtu</em>,
každá položka je vypsána na jeden řádek a pouze jednou. Pořadí řádků je
dáno abecedně dle kódů měn. Položky se nesmí opakovat. Formát výstupu u
<em>stavu účtu</em> pro každou měnu je
<code>KOD : HODNOTA</code>.</p></li>
<li><p><code>list</code> opisuje (filtrované) záznamy odpovídající
uživateli <code>UŽIVATEL</code> na standardní výstup v pořadí, v jakém
se vyskytují ve vstupních log souborech.</p></li>
<li><p><code>list-currency</code> vypisuje seznam kódů měn vyskytujících
se v (filtrovaných) záznamech uživatele <code>UŽIVATEL</code>. Kódy měn
jsou seřazeny abecedně.</p></li>
<li><p><code>status</code> spočítá a vypíše stav účtu pro každou měnu
uživatele <code>UŽIVATEL</code> na základě (filtrovaných) záznamů.
Seznam měn a jejich zůstatků je seřazen abecedně dle kódů měn. V tomto
případě nezahrnujte do výsledků fiktivní výnos z investic.</p></li>
<li><p><code>profit</code> je podobný příkazu <code>status</code> s tím
rozdílem, že <strong>kladné</strong> zůstatky měn jsou uměle navýšeny
<strong>o <code>X</code> %</strong>, kde <strong><code>X</code></strong>
je hodnota <strong>proměnné prostředí</strong> <code>XTF_PROFIT</code>.
Jste však trochu zapomnětliví a občas tak zapomenete proměnnou nastavit.
Pokud není proměnná prostředí <code>XTF_PROFIT</code> nastavena,
uvažujte výchozí hodnotu 20 % (příliš vysoké zhodnocení by mohlo
přitáhnout nechtěnou pozornost regulačních úřadů). Hodnota proměnné
<code>XTF_PROFIT</code> bude vždy pouze nezáporné celé číslo.</p></li>
</ol>
<p><strong>DETAILY</strong></p>
<ol type="1">
<li><p>Pokud skript nedostane na vstupu žádný příkaz, uvažujte výchozí
příkaz <code>list</code>.</p></li>
<li><p>Skript umí zpracovat i logy komprimované pomocí nástroje
<code>gzip</code> (v případě, že název log souboru končí
<code>.gz</code>). Je zřejmé, že bez komprimace by bylo obtížné
uchovávat velké množství dat na Vašich serverech.</p></li>
<li><p>Předpokládejte, že vstupní soubory nemohou mít jména odpovídající
některému příkazu, přepínači nebo kódu měny.</p></li>
<li><p>Předpokládejte, že hodnota vstupního parametru
<code>UŽIVATEL</code> není shodná s hodnotou žádného příkazu, přepínače
nebo kódu měny.</p></li>
<li><p>V případě uvedení přepínače <code>-h</code> nebo
<code>--help</code> se vždy pouze vypíše nápověda a skript skončí (tedy,
pokud by za přepínačem následoval nějaký příkaz nebo soubor, neprovede
se).</p></li>
</ol>
<h1 id="vstupní-log-soubory">Vstupní log soubory</h1>
<ol type="1">
<li><p>Skript analyzuje záznamy (logy) pouze ze zadaných souborů v daném
pořadí.</p></li>
<li><p>Formát logu je CSV, kde oddělovačem je znak středníku
<code>;</code>. Formát je řádkový, každý řádek odpovídá záznamu
transakce provedené na kryptoměnové burze ve tvaru</p>
<pre><code>JMENO UZIVATELE;DATUM A CAS;MENA;HODNOTA</code></pre>
<p>kde</p>
<ul>
<li><code>JMENO UZIVATELE</code> označuje uživatelské jméno klienta. Pro
jednoduchost uvažujte, že se jedná o řetězec obsahující pouze
tisknutelné ASCII znaky bez bílých znaků nebo znaku středníku.</li>
<li><code>DATUM A CAS</code> jsou ve formátu
<code>YYYY-MM-DD HH:MM:SS</code></li>
<li><code>MENA</code> je třípísmenný kód (krypto)měny, např
<code>USD</code>, <code>EUR</code>, <code>CZK</code>, <code>BTC</code>,
<code>ETH</code> atd.</li>
<li><code>HODNOTA</code> je hodnota transakce. Záporná hodnota značí
prodej (resp. výběr) a kladná hodnota značí nákup (resp. vložení) měny.
<code>HODNOTA</code> je desetinné číslo s přesností na čtyři desetinná
místa s tečkou jako oddělovacím znakem.</li>
</ul>
<p>Příklad záznamů:</p>
<pre><code>CryptoWiz;2024-01-14 23:43:13;EUR;-3000.0000
CryptoWiz;2024-01-14 23:43:15;ETH;1.2313</code></pre>
<ul>
<li>První záznam značí prodej 3000 jednotek měny Euro (kód měny
<code>EUR</code>) uživatelem <code>CryptoWiz</code>.</li>
<li>Druhý záznam značí nákup 1.2313 jednotek měny Ethereum (kód měny
<code>ETH</code>), opět uživatelem <code>CryptoWiz</code>.</li>
</ul></li>
<li><p>Můžete předpokládat, že záznamy jsou ve vstupních souborech
uvedeny chronologicky a je-li na vstupu více souborů, jejich pořadí je
také chronologické.</p></li>
<li><p>Nové kryptoměny vznikají téměř každý den a kontrola správnosti
kódů měn by akorát brzdila Vaši schopnost rychlé inovace.
Předpokládejte, že všechny vyskytující se kódy měn jsou validní a
existující (není potřeba kontrolovat).</p></li>
<li><p>Nemusíte kontrolovat korektnost operací vzhledem ke kontextu
ostatních operací, např. zda se jedná o korektní směnu měn nebo vložení
prostředků. V nejhorším případě můžete vždy svést chybu na Vaše
technicky neschopné uživatele.</p></li>
<li><p>Nemusíte kontrolovat korektnost operací vzhledem ke stavu účtu
uživatele, např. zda má uživatel na účtu dostatek prostředků na nákup
nebo prodej měny (můžete uvažovat, že uživatel má pro tyto operace k
dispozici dostatečný <em>margin</em>).</p></li>
</ol>
<h1 id="návratová-hodnota">Návratová hodnota</h1>
<ul>
<li>Skript vrací úspěch v případě úspěšné operace. Interní chyba skriptu
nebo chybné argumenty budou doprovázeny chybovým hlášením na standardní
chybový výstup a neúspěšným návratovým kódem.</li>
</ul>
<h1 id="implementační-detaily">Implementační detaily</h1>
<ol type="1">
<li><p>Skript žádný soubor nemodifikuje. Skript nesmí používat dočasné
soubory. Povoleny jsou však dočasné soubory nepřímo tvořené jinými
příkazy (např. příkazem <code>sed -i</code>).</p></li>
<li><p>Skript by měl mít v celém běhu nastaveno
<code>POSIXLY_CORRECT=yes</code>.</p></li>
<li><p>Skript by měl běžet na všech běžných shellech (<code>dash</code>,
<code>ksh</code>, <code>bash</code>). Pokud použijete vlastnost
specifickou pro nějaký shell, uveďte to pomocí direktivy interpretu na
prvním řádku souboru, např. <code>#!/bin/bash</code> nebo
<code>#!/usr/bin/env bash</code> pro <code>bash</code>. Můžete použít
GNU rozšíření pro <code>sed</code> či <code>awk</code>. Jazyky Perl,
Python, Ruby, atd. povoleny nejsou.</p>
<p><strong>UPOZORNĚNÍ:</strong> některé servery, např.
<code>merlin.fit.vutbr.cz</code>, mají symlink
<code>/bin/sh -&gt; bash</code>. Ověřte si proto, že skript skutečně
testujete daným shellem. Doporučuji ověřit správnou funkčnost pomocí
virtuálního stroje níže.</p></li>
<li><p>Skript musí běžet na běžně dostupných OS GNU/Linux, BSD a MacOS.
Virtuální stroj, na kterém lze ověřit správnou funkčnost projektu, je k
dispozici <a href="https://www.fit.vutbr.cz/~lengal/public/ubuntu23.ova">zde</a>
(login: <code>mantic</code>, heslo: <code>mantic</code>).</p></li>
<li><p>Čísla vypisujte v desítkovém zápisu <strong>[ÚPRAVA 18.2.]
oříznutá (tedy nemusíte zaokrouhlovat)</strong> na čtyři desetinná
místa. Pozor, některé nástroje (např. <code>awk</code>) mohou větší
čísla vypisovat implicitně pomocí vědeckého zápisu.</p></li>
</ol>
<h1 id="odevzdání-projektu">Odevzdání projektu</h1>
<p>Odevzdávejte pouze skript <code>xtf</code> (nebalte ho do žádného
archivu). Odevzdejte do IS, termín Projekt 1.</p>
<h1 id="rady">Rady</h1>
<ul>
<li>Dobrá dekompozice problému na podproblémy Vám může značně ulehčit
práci a předejít chybám.</li>
<li>Naučte se <em>dobře</em> používat funkce v shellu.</li>
<li>Nedoporučujeme řešit projekt výhradně pomocí generativní AI.
Generování velkých úseků kódu (nebo rovnou celého projektu) může vést k
podezření z plagiátorství v případě vysoké shody vygenerovaného kódu
napříč studenty.
<ul>
<li>Studenti podezřelí z plagiátorství mohou být pozváni na podání
vysvětlení a demonstraci, že svému kódu skutečně rozumí. V případě
neúspěšné obhajoby hrozí, že na Vaše řešení bude pohlíženo jako na
plagiát se všemi důsledky (tj. disciplinární řízení atp.)!</li>
<li>Použití AI jako asistenta (rádce, inteligentní debugger, návrh
dekompozice, brainstorming) k vyřešení projektu je v pořádku. Ve
vlastním zájmu se však raději vyvarujte přebírání velkých úseků
kódu.</li>
</ul></li>
</ul>
<h1 id="možná-rozšíření">Možná rozšíření</h1>
<p>Implementací volitelných rozšíření můžete kompenzovat případnou
ztrátu bodů v jiné časti projektu (lze implementovat libovolný počet
rozšíření). Rozšíření jsou nepovinná a plný počet bodů je možné získat i
bez jejich implementace.</p>
<ul>
<li><p>Podpora specifikace parametrů a přepínačů <code>[FILTR]</code>,
<code>[PŘÍKAZ]</code> a <code>UŽIVATEL</code> v libovolném pořadí. Log
soubor nebo soubory budou vždy zadány jako poslední.</p></li>
<li><p>Filtr <code>-c</code> je možné specifikovat vícenásobně. Příkazy
<code>list</code>, <code>list-currency</code>, <code>status</code> a
<code>profit</code> budou následně uvažovat ty záznamy, které obsahují
některou z uvedených měn.</p></li>
</ul>
<h1 id="příklady-použití">Příklady použití</h1>
<ul>
<li>Ukázky vstupních log souborů jsou dostupné zde: <a href="https://pajda.fit.vutbr.cz/ios/ios-24-1-logs">https://pajda.fit.vutbr.cz/ios/ios-24-1-logs</a>.</li>
</ul>
<p><strong>Příklady:</strong></p>
<pre><code>$ cat cryptoexchange.log
Trader1;2024-01-15 15:30:42;EUR;-2000.0000
Trader2;2024-01-15 15:31:12;BTC;-9.8734
Trader1;2024-01-16 18:06:32;USD;-3000.0000
CryptoWiz;2024-01-17 08:58:09;CZK;10000.0000
Trader1;2024-01-20 11:43:02;ETH;1.9417
Trader1;2024-01-22 09:17:40;ETH;10.9537</code></pre>
<pre><code>$ ./xtf Trader1 cryptoexchange.log
Trader1;2024-01-15 15:30:42;EUR;-2000.0000
Trader1;2024-01-16 18:06:32;USD;-3000.0000
Trader1;2024-01-20 11:43:02;ETH;1.9417
Trader1;2024-01-22 09:17:40;ETH;10.9537</code></pre>
<pre><code>$ ./xtf list Trader1 cryptoexchange.log
Trader1;2024-01-15 15:30:42;EUR;-2000.0000
Trader1;2024-01-16 18:06:32;USD;-3000.0000
Trader1;2024-01-20 11:43:02;ETH;1.9417
Trader1;2024-01-22 09:17:40;ETH;10.9537</code></pre>
<pre><code>$ ./xtf -c ETH Trader1 cryptoexchange.log
Trader1;2024-01-20 11:43:02;ETH;1.9417
Trader1;2024-01-22 09:17:40;ETH;10.9537</code></pre>
<pre><code>$ ./xtf -c GBP Trader1 cryptoexchange.log
$</code></pre>
<pre><code>$ ./xtf list-currency Trader1 cryptoexchange.log
ETH
EUR
USD</code></pre>
<pre><code>$ ./xtf status Trader1 cryptoexchange.log
ETH : 12.8954
EUR : -2000.0000
USD : -3000.0000</code></pre>
<pre><code>$ ./xtf -b "2024-01-22 09:17:40" status Trader1 cryptoexchange.log
ETH : 1.9417
EUR : -2000.0000
USD : -3000.0000</code></pre>
<pre><code>$ ./xtf -a "2024-01-15 16:00:00" -b "2024-01-22 09:17:41" status Trader1 cryptoexchange.log
ETH : 12.8954
USD : -3000.0000</code></pre>
<pre><code>$ ./xtf profit Trader1 cryptoexchange.log
ETH : 15.4744
EUR : -2000.0000
USD : -3000.0000</code></pre>
<pre><code>export XTF_PROFIT=40
$ ./xtf profit Trader1 cryptoexchange.log
ETH : 18.0535
EUR : -2000.0000
USD : -3000.0000</code></pre>
<p><strong>Příklad s více logy:</strong></p>
<pre><code>$ cat cryptoexchange-1.log
Trader1;2024-01-15 15:30:42;EUR;-2000.0000
Trader2;2024-01-15 15:31:12;BTC;-9.8734
Trader1;2024-01-16 18:06:32;USD;-3000.0000
$
$ gunzip -ck cryptoexchange-2.log.gz
CryptoWiz;2024-01-17 08:58:09;CZK;10000.0000
Trader1;2024-01-20 11:43:02;ETH;1.9417
Trader1;2024-01-22 09:17:40;ETH;10.9537
$
$ ./xtf status Trader1 cryptoexchange-1.log cryptoexchange-2.log.gz
ETH : 12.8954
EUR : -2000.0000
USD : -3000.0000</code></pre>
<p><strong>Příklady rozšíření:</strong></p>
<pre><code>$ ./xtf Trader1 status -a "2024-01-15 16:00:00" -b "2024-01-22 09:17:41" cryptoexchange.log
ETH : 12.8954
USD : -3000.0000</code></pre>
<pre><code>$ ./xtf -c ETH -c USD Trader1 cryptoexchange.log
Trader1;2024-01-16 18:06:32;USD;-3000.0000
Trader1;2024-01-20 11:43:02;ETH;1.9417
Trader1;2024-01-22 09:17:40;ETH;10.9537</code></pre>
<pre><code>$ ./xtf -c ETH -c EUR -c GBP list-currency Trader1 cryptoexchange.log
ETH
EUR</code></pre></div>
            <div class="d-none d-xl-block col-xl-2 bd-toc">
               <ul class="section-nav">
                  <li class="toc-entry"><ul>
<li><a href="https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html#popis-%C3%BAlohy" id="toc-popis-úlohy">Popis úlohy</a></li>
<li><a href="https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html#specifikace-rozhran%C3%AD-skriptu" id="toc-specifikace-rozhraní-skriptu">Specifikace rozhraní
skriptu</a></li>
<li><a href="https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html#vstupn%C3%AD-log-soubory" id="toc-vstupní-log-soubory">Vstupní
log soubory</a></li>
<li><a href="https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html#n%C3%A1vratov%C3%A1-hodnota" id="toc-návratová-hodnota">Návratová
hodnota</a></li>
<li><a href="https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html#implementa%C4%8Dn%C3%AD-detaily" id="toc-implementační-detaily">Implementační detaily</a></li>
<li><a href="https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html#odevzd%C3%A1n%C3%AD-projektu" id="toc-odevzdání-projektu">Odevzdání
projektu</a></li>
<li><a href="https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html#rady" id="toc-rady">Rady</a></li>
<li><a href="https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html#mo%C5%BEn%C3%A1-roz%C5%A1%C3%AD%C5%99en%C3%AD" id="toc-možná-rozšíření">Možná
rozšíření</a></li>
<li><a href="https://www.fit.vutbr.cz/study/courses/IOS/private/Lab/projekty/projekt1/ios24-projekt1.html#p%C5%99%C3%ADklady-pou%C5%BEit%C3%AD" id="toc-příklady-použití">Příklady
použití</a></li>
</ul></li>
               </ul>
            </div>
         </div>
               </div>
            <!-- Add comment hosting service here -->
            <!-- Footer -->
            <footer class="footer text-muted">
               <div align="center">
                  <!-- Please keep the following line -->
                  Built with <a href="https://www.pandoc.org/" target="_blank" rel="noopener">Pandoc</a> 
                  using <a href="https://github.com/ashki23/pandoc-bootstrap" target="_blank" rel="noopener">pandoc-bootstrap</a> theme
                  <br>
               </div>
            </footer>
            <!-- Add global site tag (gtag.js) and site analytics here -->
            <!-- JS, Popper.js, and jQuery -->
      <script src="./zadani-2024_files/jquery-3.5.1.slim.min.js.stiahnuť" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="./zadani-2024_files/popper.min.js.stiahnuť" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
      <script src="./zadani-2024_files/bootstrap.min.js.stiahnuť" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
      <!-- Mathjax -->
      <script src="./zadani-2024_files/polyfill.min.js.stiahnuť"></script>
      <script id="MathJax-script" async="" src="./zadani-2024_files/tex-mml-chtml.js.stiahnuť"></script>
      <script>
         /* Bootstrap styles to tables */
         function bootstrapStylePandocTables() {
         $('tr.header').parent('thead').parent('table').addClass('table table-condensed'); }
         $(document).ready(function () { bootstrapStylePandocTables(); });
         /* Adjust the height when click the toc */
         var shiftWindow = function() { scrollBy(0, -60) };
         window.addEventListener("hashchange", shiftWindow);
         function load() { if (window.location.hash) shiftWindow(); }
      </script>
   

</body></html>